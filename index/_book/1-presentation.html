<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Internship report</title>
  <meta name="description" content="Internship report">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Internship report" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Internship report" />
  
  
  

<meta name="author" content="Loïc Davadan">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="2-data-explvar.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"></a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="1-presentation.html"><a href="1-presentation.html"><i class="fa fa-check"></i><b>1</b> Presentation of the AGROMET project and the CRA-W</a><ul>
<li class="chapter" data-level="1.1" data-path="1-presentation.html"><a href="1-presentation.html#cra-w-and-farming-systems-territory-and-information-technologies-unit"><i class="fa fa-check"></i><b>1.1</b> CRA-W and Farming Systems, Territory and Information Technologies Unit</a></li>
<li class="chapter" data-level="1.2" data-path="1-presentation.html"><a href="1-presentation.html#the-agromet-project"><i class="fa fa-check"></i><b>1.2</b> The AGROMET project</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-presentation.html"><a href="1-presentation.html#context"><i class="fa fa-check"></i><b>1.2.1</b> Context</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-presentation.html"><a href="1-presentation.html#objectives"><i class="fa fa-check"></i><b>1.2.2</b> Objectives</a></li>
<li class="chapter" data-level="1.2.3" data-path="1-presentation.html"><a href="1-presentation.html#importance-of-the-internship-for-the-project"><i class="fa fa-check"></i><b>1.2.3</b> Importance of the internship for the project</a></li>
<li class="chapter" data-level="1.2.4" data-path="1-presentation.html"><a href="1-presentation.html#preparing-the-working-environment"><i class="fa fa-check"></i><b>1.2.4</b> Preparing the working environment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-data-explvar.html"><a href="2-data-explvar.html"><i class="fa fa-check"></i><b>2</b> Data acquisition and explanatory variables</a><ul>
<li class="chapter" data-level="2.1" data-path="2-data-explvar.html"><a href="2-data-explvar.html#interest-variables"><i class="fa fa-check"></i><b>2.1</b> Interest variables</a></li>
<li class="chapter" data-level="2.2" data-path="2-data-explvar.html"><a href="2-data-explvar.html#explanatory-variables"><i class="fa fa-check"></i><b>2.2</b> Explanatory variables</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-data-explvar.html"><a href="2-data-explvar.html#static-variables"><i class="fa fa-check"></i><b>2.2.1</b> Static variables</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-data-explvar.html"><a href="2-data-explvar.html#dynamic-variables"><i class="fa fa-check"></i><b>2.2.2</b> Dynamic Variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-data-model.html"><a href="3-data-model.html"><i class="fa fa-check"></i><b>3</b> Data organisation and modeling</a><ul>
<li class="chapter" data-level="3.1" data-path="3-data-model.html"><a href="3-data-model.html#data-organisation"><i class="fa fa-check"></i><b>3.1</b> Data organisation</a></li>
<li class="chapter" data-level="3.2" data-path="3-data-model.html"><a href="3-data-model.html#modeling"><i class="fa fa-check"></i><b>3.2</b> Modeling</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-data-model.html"><a href="3-data-model.html#principle-of-machine-learning"><i class="fa fa-check"></i><b>3.2.1</b> Principle of machine learning</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-data-model.html"><a href="3-data-model.html#machine-learning-approach-in-the-agromet-project"><i class="fa fa-check"></i><b>3.2.2</b> Machine learning approach in the AGROMET project</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-data-model.html"><a href="3-data-model.html#machine-learning-in-r"><i class="fa fa-check"></i><b>3.2.3</b> Machine Learning in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-results.html"><a href="4-results.html"><i class="fa fa-check"></i><b>4</b> Results and discussion</a><ul>
<li class="chapter" data-level="4.1" data-path="4-results.html"><a href="4-results.html#benchmark"><i class="fa fa-check"></i><b>4.1</b> Benchmark</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-results.html"><a href="4-results.html#methodology"><i class="fa fa-check"></i><b>4.1.1</b> Methodology</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-results.html"><a href="4-results.html#comparison-of-methods"><i class="fa fa-check"></i><b>4.1.2</b> Comparison of methods</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-results.html"><a href="4-results.html#vizualisation"><i class="fa fa-check"></i><b>4.1.3</b> Vizualisation</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-results.html"><a href="4-results.html#discussion"><i class="fa fa-check"></i><b>4.2</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="appendix"><span><b>Annex</b></span></li>
<li class="chapter" data-level="A" data-path="A-resources-on-agromet-and-my-work.html"><a href="A-resources-on-agromet-and-my-work.html"><i class="fa fa-check"></i><b>A</b> Resources on AGROMET and my work</a></li>
<li class="chapter" data-level="B" data-path="B-annex-2.html"><a href="B-annex-2.html"><i class="fa fa-check"></i><b>B</b> Annex 2</a></li>
<li class="chapter" data-level="C" data-path="C-additional-resources.html"><a href="C-additional-resources.html"><i class="fa fa-check"></i><b>C</b> Additional resources</a></li>
<li class="chapter" data-level="D" data-path="D-details-of-my-work.html"><a href="D-details-of-my-work.html"><i class="fa fa-check"></i><b>D</b> Details of my work</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Internship report</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="presentation" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Presentation of the AGROMET project and the CRA-W</h1>
<div id="cra-w-and-farming-systems-territory-and-information-technologies-unit" class="section level2">
<h2><span class="header-section-number">1.1</span> CRA-W and Farming Systems, Territory and Information Technologies Unit</h2>
<p>Presentation CRA-W Presentation U11</p>
<p>PAMESEB is a non-profit organisation which aims to promote agrometeorology by taking climatic conditions into account in the walloon agriculture. PAMESEB has 30 weather stations in Wallonia. These stations provide measures for ways to fight crop diseases like late blight and wheat septoria.</p>
<p>Each PAMESEB station has 5 basic sensors :</p>
<ul>
<li>Temperature sensor</li>
<li>Relative humidity sensor</li>
<li>Solar sensor</li>
<li>Wind sensor</li>
<li>Rain gauge</li>
</ul>
<p>Stations have a local acquisition unit for hourly data recording.</p>
</div>
<div id="the-agromet-project" class="section level2">
<h2><span class="header-section-number">1.2</span> The AGROMET project</h2>
<div id="context" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Context</h3>
<p>The European directive 2009/128/CE ::todo:: imposes member-states to set up tools that allow for a more rational use of crop protection products. Among these tools, agricultural warning systems, based on crop monitoring models for the control of pests and diseases are widely adopted and have proved their efficiency. However, due to the difficulty to get meteorological data at high spatial resolution (at the parcel scale), they still are underused. The use of geostatistical tools (Kriging, Multiple Regressions, ANN, etc.) makes it possible to interpolate data provided by physical weather stations in such a way that a high spatial resolution network (mesh size of 1 km2) of virtual weather stations could be generated.</p>
<p>That is the objective of the AGROMET project. Moreover, some CRA-W’s units and other partners are interested in to build models against crop diseases like potato late blight or orange midge which depends on meteorological conditions.</p>
<p>The project was inspired by several academic papers like <em>Use of geographic information systems in warning services for late blight</em> (Zeuner 2007) and <em>Decision Support Systems in Agriculture : Administration of Meteorological Data, Use of Geographic Information Systems(GIS) and Validation Methods in Crop Protection Warning Service</em> (Racca <em>et al.</em> 2011) ::todo::</p>
</div>
<div id="objectives" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Objectives</h3>
<p>The project aims to set up an operational web-platform designed for real-time agro-meteorological data dissemination at high spatial (1km2) and temporal (hourly) resolution. To achieve the availability of data at such a high spatial resolution, we plan to “spatialize” the real-time data sent by more than 30 connected physical weather stations belonging to the PAMESEB and RMI networks. This spatialization will then result in a gridded dataset corresponding to a network of 17 000 virtual stations uniformly spread on the whole territory of Wallonia.</p>
<p>These “spatialized” data will be made available through a web-platform providing interactive visualization widgets (maps, charts, tables and various indicators) and an API allowing their use on the fly, notably by agricultural warning systems providers. An extensive and precise documentation about data origin, geo-statistic algorithms used and uncertainty will be also available.</p>
<div class="figure" style="text-align: center"><span id="fig:agromet"></span>
<img src="figure/agromet.jpg" alt="First draft of the functional architecture of the platform" width="65%" />
<p class="caption">
Figure 1.1: First draft of the functional architecture of the platform
</p>
</div>
<p>Meteorological data wanted to be predict are :</p>
<ul>
<li>Temperature (1.5 meters above the ground)</li>
<li>Relative humidity (1.5 meters above the ground)</li>
<li>Leaves wetness</li>
<li>Rainfall will be spatialized from RMI rain radar data.</li>
</ul>
<p>To predict these variables, known data are used :</p>
<ul>
<li>Digital elevation model and its derivatives like aspect and slope</li>
<li>Solar irradiance</li>
<li>Other variables discussed to improve the prediction : distance to sea, CORINE land cover…</li>
</ul>
<p>The Figure <a href="1-presentation.html#fig:agromet">1.1</a> shows the architecture of the future platform and steps before data diffusion.</p>
</div>
<div id="importance-of-the-internship-for-the-project" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Importance of the internship for the project</h3>
<p>To predict meteorological variables, several statistical method will be tested. The identified methods at this time are multiple linear regression, ANN and several kriging methods.</p>
<p>Two objectives were clearly defined for my internship. I operated in the data acquisition and data analysis steps with the aim of predicting temperature using multiple linear regression.</p>
<p>First, I have collected data which can be explanatory variables for temperature and organised them to be integrated in the analysis and benchmark.</p>
<p>Then, I ran a benchmark experiment where different desired regression learning algorithms are applied to various regression tasks (i.e. datasets with different combinations of explanatory variables and the target weather parameter) with the aim to compare and rank the combinations of algorithm and used explanatory variables using a cross validation resampling strategy that provides the desired performance metrics. And then, I aggregated, by calculating the mean, all the hourly performance measures to choose the method that globally performs the best. For each desired hourly dataset, I applied the choosen method to build a model to make spatial predictions. The predictions and their uncertainty have been vizualized using maps. Finally, I had to make the predictions available on the platform together with its uncertainty indicator.</p>
<p>For a matter of time, this benchmark is run on two large years (from 2015-11-11 to 2018-06-30) because some data were not available before this period.</p>
</div>
<div id="preparing-the-working-environment" class="section level3">
<h3><span class="header-section-number">1.2.4</span> Preparing the working environment</h3>
<p>Working in development field often imposes to be methodic. That’s why preparing the working environment is very important.</p>
<p>First, I have installed <strong>Ubuntu GNOME</strong>, a distribution of Linux on my laptop. Indeed, this OS is prefered by developers and open-source addicts thanks to the high contribution to improve distributions. Linux distributions are safer than Windows due to that and it is very easy to automatise a lot of commands. This installation was done thanks to a USB drive with a boot of Ubuntu GNOME.</p>
<p>Once I had Ubuntu installed on my laptop, I used an <strong>ANSIBLE script</strong> to install all the applications I need automatically. Moreover, this script handles the updates of these applications. That is a very useful way to earn some time.</p>
<p>Accessing to servers has to be secured. That’s why every developer should have a <strong>SSH</strong> key. This key or token is unique and enable people to access to servers. It is useful to access to Git repositories for example.</p>
<p><strong>GitHub</strong> is a hosting service for version control. Its utilisation is very common for developers because their codes are online, the access is public and GitHub enable to handle versions of files. It makes easier the collaborative work on a same code and enable to use codes of other users.</p>
<p>For my internship, I need to work with my mentor to code. GitHub is the best solution to that. I created a folder in my laptop to clone all the repositories I need for my work. Then, I have a copy that I can modify and I can send my modifications on GitHub. To clone these repositories, my SSH key was useful.</p>
<p>The AGROMET project for whom I worked has an <strong>API</strong> to store meteorological data from all the stations. An account has been created for my internship. Then, I can get data from the API to test my codes. These data have JSON or GeoJSON format, a open-standard file format derived from JavaScript which is easy for machines to parse and generate and easy to read and write for humans.</p>
<p><strong>Docker</strong> is a software for containerize platforms. This container approach has many advantages compares to the use of virtual machines : lightweight, quick and modular.</p>
<p>There are two main reasons to use R in conjunction with Docker. First, it allows you to quickly and easily share your work whatever the OS and R configuration of your collaborators. Second, it allows you to work in an isolated environment. This means that you will never pollute your OS and e.g. run in time-consuming re-installation procedures due to broken configuration. In case of OS crash, simply relaunch your Docker R container with a single command and you are ready to work.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="2-data-explvar.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": [["thesis.pdf", "PDF"], ["thesis.epub", "EPUB"], ["thesis.docx", "Word"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
